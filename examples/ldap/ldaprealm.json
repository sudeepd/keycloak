{
  "id": "ldap-demo",
  "realm": "ldap-demo",
  "enabled": true,
  "sslRequired": "external",
  "privateKey": "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",
  "publicKey": "MIIBojANBgkqhkiG9w0BAQEFAAOCAY8AMIIBigKCAYEAiQI6Hatcex7EMNTrCkzfqgxh5L2PhII4I8ziZhmS5GWKMRNs4hn1ojmjPWb5TqswffYJdSDyP1iNnJogGdUzzF0r75x4AbHweCi3RnCInhXMXZZqz7nBUZ5DsNatTSU+kvSZ1ysKbGMd0fxHZltC7WsHvem2XIXpo15+vTvxSBbqmOOY77zHmhWhzwz/trR/lzokn0NTjWxkLeAZraCYl37/8zSOccrfbOw1a3OVzXGYBLfYY8rmNP+E1LCRLkAox9CGkQMPsT00xlrV3qalozifjxi0K1SFpmVinp4jYEvn5ByOiyd7ekncW/N1cAR6Bz3QpbXgb7Stm/dHyQqMd4L0ZPrIhQGLwY5M/FjUzuW8BSdOdEfSw2ZE5ONuCccb8njgh/RGM/db8XFn/LRhfjjvp3vSzBPDg7wLDCfhx1LmL9bVq1HDx7mRUk+Y3cAVelmItdTwE3PM9Ccu7nZv/Ayxa8kyr7ozvfGn0BYKwNQZvvXX3/vwU0vqWvaDnRTjAgMBAAE=",
  "requiredCredentials": [ "password" ],
  "clients": [
    {
      "clientId": "finance",
      "enabled": true,
      "bearerOnly": true
    },
    {
      "clientId": "ldap-app",
      "enabled": true,
      "baseUrl": "/ldap-portal",
      "redirectUris": [
        "/ldap-portal/*"
      ],
      "adminUrl": "/ldap-portal",
      "secret": "password",
      "fullScopeAllowed": true,
      "protocolMappers": [
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "username",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "username",
            "claim.name" : "preferred_username",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-full-name-mapper",
          "protocol" : "openid-connect",
          "name" : "full name",
          "config" : {
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "given name",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "firstName",
            "claim.name" : "given_name",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "family name",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "lastName",
            "claim.name" : "family_name",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-property-mapper",
          "protocol" : "openid-connect",
          "name" : "email",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "email",
            "claim.name" : "email",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-attribute-mapper",
          "protocol" : "openid-connect",
          "name" : "postal code",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "postal_code",
            "claim.name" : "postal_code",
            "multivalued": "true",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-attribute-mapper",
          "protocol" : "openid-connect",
          "name" : "street",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "street",
            "claim.name" : "street",
            "multivalued": "false",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        },
        {
          "protocolMapper" : "oidc-usermodel-attribute-mapper",
          "protocol" : "openid-connect",
          "name" : "picture",
          "config" : {
            "Claim JSON Type" : "String",
            "user.attribute" : "picture",
            "claim.name" : "picture",
            "multivalued": "false",
            "id.token.claim" : "true",
            "access.token.claim" : "true"
          }
        }
      ]
    }
  ],
  "userFederationProviders": [
    {
      "displayName": "ldap-apacheds",
      "providerName": "ldap",
      "priority": 1,
      "fullSyncPeriod": -1,
      "changedSyncPeriod": -1,
      "config": {
        "pagination" : "true",
        "debug" : "false",
        "searchScope" : "1",
        "connectionPooling" : "true",
        "usersDn" : "ou=People,dc=keycloak,dc=org",
        "userObjectClasses" : "inetOrgPerson, organizationalPerson",
        "usernameLDAPAttribute" : "uid",
        "bindDn" : "uid=admin,ou=system",
        "bindCredential" : "secret",
        "rdnLDAPAttribute" : "uid",
        "vendor" : "other",
        "editMode" : "WRITABLE",
        "uuidLDAPAttribute" : "entryUUID",
        "connectionUrl" : "ldap://localhost:10389",
        "syncRegistrations" : "true",
        "authType" : "simple"
      }
    }
  ],
  "userFederationMappers" : [
    {
      "name" : "username",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "uid",
        "user.model.attribute" : "username",
        "is.mandatory.in.ldap" : "true",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "first name",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "cn",
        "user.model.attribute" : "firstName",
        "is.mandatory.in.ldap" : "true",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "last name",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "sn",
        "user.model.attribute" : "lastName",
        "is.mandatory.in.ldap" : "true",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "email",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "mail",
        "user.model.attribute" : "email",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "creation date",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "createTimestamp",
        "user.model.attribute" : "createTimestamp",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "true",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "modify date",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "modifyTimestamp",
        "user.model.attribute" : "modifyTimestamp",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "true",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "postal code",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "postalCode",
        "user.model.attribute" : "postal_code",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "street",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "street",
        "user.model.attribute" : "street",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "false"
      }
    },
    {
      "name" : "picture",
      "federationMapperType" : "user-attribute-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "ldap.attribute" : "jpegPhoto",
        "user.model.attribute" : "picture",
        "is.mandatory.in.ldap" : "false",
        "read.only" : "false",
        "always.read.value.from.ldap" : "true",
        "is.binary.attribute" : "true"
      }
    },
    {
      "name" : "realm roles",
      "federationMapperType" : "role-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "roles.dn" : "ou=RealmRoles,dc=keycloak,dc=org",
        "membership.ldap.attribute" : "member",
        "role.name.ldap.attribute" : "cn",
        "role.object.classes" : "groupOfNames",
        "mode" : "LDAP_ONLY",
        "use.realm.roles.mapping" : "true"
      }
    },
    {
      "name" : "finance roles",
      "federationMapperType" : "role-ldap-mapper",
      "federationProviderDisplayName" : "ldap-apacheds",
      "config" : {
        "roles.dn" : "ou=FinanceRoles,dc=keycloak,dc=org",
        "membership.ldap.attribute" : "member",
        "role.name.ldap.attribute" : "cn",
        "role.object.classes" : "groupOfNames",
        "mode" : "LDAP_ONLY",
        "use.realm.roles.mapping" : "false",
        "client.id" : "finance"
      }
    }
  ]
}